### 2.1. Robyn 소개: Meta(Facebook)에서 개발한 오픈소스 MMM 도구

**Robyn**은 Meta(구 Facebook)에서 개발하여 **오픈소스(Open Source)**로 공개한 **MMM 분석 패키지**입니다. 즉, 누구나 무료로 사용하고 코드를 살펴볼 수 있습니다. 주로 통계 분석 언어인 **R**을 기반으로 개발되었습니다.

Robyn이 만들어진 주된 이유는 기존의 MMM 분석 방식이 가지는 몇 가지 어려움, 예를 들어 분석가의 주관 개입 가능성, 모델링 과정의 복잡성, 시간 소모 등을 해결하고, 더 **자동화되고**, **과학적이며**, **신뢰할 수 있는** MMM 분석을 제공하기 위해서입니다.

### 2.2. Robyn의 주요 특징 및 장점

Robyn은 MMM 분석을 더 효율적이고 강력하게 만들어주는 여러 특징을 가지고 있습니다:

* **자동화된 모델링 및 하이퍼파라미터 최적화:**
    * Robyn은 **릿지 회귀(Ridge Regression)**라는 통계 모델을 핵심 엔진으로 사용합니다. 이 모델은 여러 마케팅 채널 간의 데이터가 서로 비슷하게 움직이는 경향(다중공선성 문제)이 있을 때 모델의 안정성을 높여줍니다.
    * 가장 큰 특징 중 하나는 **하이퍼파라미터(Hyperparameter)** 최적화를 자동화한다는 점입니다. 하이퍼파라미터는 모델이 데이터를 학습하기 전에 미리 설정해야 하는 값들인데, MMM에서는 특히 광고 효과가 시간에 따라 어떻게 지속되고(Adstock), 광고비 지출이 늘어남에 따라 효율이 어떻게 변하는지(Saturation)를 나타내는 값들이 중요합니다. Robyn은 Meta의 **Nevergrad**라는 최적화 라이브러리를 사용하여 이러한 복잡한 하이퍼파라미터 값들을 자동으로 탐색하고 최적의 조합을 찾아줍니다. 이를 통해 분석가의 주관적인 판단을 줄이고 다양한 가능성을 탐색할 수 있습니다.

* **최신 모델링 기법 적용:**
    * **Prophet 활용:** Meta의 또 다른 유명한 시계열 예측 도구인 **Prophet**을 선택적으로 사용하여 데이터의 추세(Trend), 계절성(Seasonality), 공휴일 효과 등을 분리해낼 수 있습니다. 이를 통해 '기저 매출(Base Sales)' 부분을 더 정교하게 추정할 수 있습니다.
    * **릿지 회귀(Ridge Regression):** 앞서 언급했듯이, 마케팅 채널 데이터 간 높은 상관관계를 처리하고 모델을 안정화하는 데 도움을 줍니다.

* **광고 축적 효과(Adstock) 및 포화 효과(Saturation) 모델링:**
    * **Adstock (광고 축적/지연 효과):** 광고는 집행 즉시 모든 효과가 나타나는 것이 아니라, 일정 기간 동안 효과가 **지속(carryover)**되거나 **지연(lag)**되어 나타날 수 있습니다. 예를 들어, 오늘 본 TV 광고가 며칠 후 구매에 영향을 줄 수 있습니다. Robyn은 이러한 효과를 **기하(Geometric)** 또는 **바일불(Weibull)** 분포와 같은 수학적 함수를 사용하여 모델링합니다.
        * *개념:* 광고 효과가 시간이 지남에 따라 점차 감소하는 것을 표현합니다.
    * **Saturation (포화 효과/수확 체감):** 광고 예산을 무한정 늘린다고 해서 성과가 계속 선형적으로 증가하지는 않습니다. 어느 시점부터는 광고비 지출을 늘려도 성과 증가폭이 **둔화**되는 현상이 나타납니다. Robyn은 **힐 함수(Hill function)**와 같은 S자 형태의 곡선을 사용하여 이러한 **수익 감소(diminishing returns)** 또는 포화 효과를 모델링합니다.
        * *개념:* 특정 채널에 대한 지출이 증가함에 따라 추가적인 지출 단위당 얻는 효과(예: 매출)가 점차 줄어드는 것을 표현합니다.

    아래는 광고 지출이 어떻게 매출 기여로 이어지는지에 대한 Robyn의 핵심적인 처리 과정을 개념적으로 보여주는 다이어그램입니다.

    ```mermaid
    graph LR
        A["광고 지출 (Raw Spend)"] --> B{"광고 축적 (Adstock)"};
        B --"시간에 따른 효과 누적 & 감소 반영"--> C{"포화 효과 (Saturation)"};
        C --"지출 증가 시 효율 변화 반영 (S-커브)"--> D["모델 내 채널 효과 (Channel Effect in Model)"];
        D --> E["매출 기여도 산출 (Contribution Calculation)"];

        style B fill:#lightblue,stroke:#333
        style C fill:#lightgreen,stroke:#333
    ```

### 2.3. Robyn이 MMM 문제를 해결하는 방식

요약하자면, Robyn은 다음과 같은 방식으로 MMM 분석을 수행합니다:

1.  **데이터 입력:** 사용자는 필요한 시계열 데이터(채널별 마케팅 지출/노출, 매출 데이터, 외부 요인 데이터 등)를 Robyn 형식에 맞게 준비하여 입력합니다.
2.  **자동 모델링 및 최적화:** Robyn은 입력된 데이터와 사용자가 설정한 하이퍼파라미터 탐색 범위 내에서, Adstock과 Saturation 효과를 고려한 수많은 Ridge 회귀 모델 후보들을 자동으로 생성하고 평가합니다. 이 과정에서 Nevergrad가 최적의 하이퍼파라미터 조합을 찾는 역할을 합니다.
3.  **모델 선택 지원:** Robyn은 생성된 수많은 모델 중에서 통계적으로 우수하고(예: 오차율이 낮고, 결과 분해가 안정적인 모델), 비즈니스적으로 타당한(예: Adstock 및 Saturation 형태가 합리적인) 모델들을 추천해 줍니다. 최종 모델 선택은 데이터 분석가가 이러한 정보들을 바탕으로 내립니다.
4.  **결과 제공:** 선택된 모델을 바탕으로 각 마케팅 채널의 **기여도(Contribution)**, **ROI**, 지출에 따른 **반응 곡선(Response Curve)** 등 MMM 분석의 핵심 결과물들을 시각화하여 제공합니다. 또한 **예산 배분 최적화(Budget Allocation)** 기능도 제공하여, 주어진 예산 하에서 성과를 극대화할 수 있는 채널별 예산 조합을 시뮬레이션해 볼 수 있습니다.

---


**간단 퀴즈:**

1.  Robyn은 어떤 회사에서 개발한 오픈소스 MMM 도구인가요?
2.  Robyn이 자동으로 최적화해주는 중요한 '하이퍼파라미터' 두 가지는 무엇과 관련된 효과였나요? (힌트: 광고 효과의 지속성, 광고비 증가에 따른 효율 변화)

