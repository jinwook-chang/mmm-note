
### 4. Robyn 입력 변수 상세

Robyn 모델은 크게 종속 변수와 독립 변수로 나뉩니다. 독립 변수는 다시 유료 미디어, 오가닉, 맥락, 그리고 Prophet 변수 등으로 세분화될 수 있습니다.

#### **1. 종속 변수 (Dependent Variable)**

* **정의:** 모델을 통해 예측하거나 설명하고자 하는 핵심 성과 지표입니다. 일반적으로 비즈니스의 최종 목표와 관련된 변수가 사용됩니다.
* **예시:**
    * 매출액 (Revenue)
    * 판매량 (Sales Volume)
    * 신규 고객 수 (New Subscriptions)
    * 웹사이트 트래픽 (Website Traffic)
    * 앱 다운로드 수 (App Downloads)
* **특징:**
    * Robyn에서는 **하나의 종속 변수**만을 사용합니다.
    * 보통 주간(weekly) 또는 일간(daily) 단위의 시계열 데이터로 구성됩니다. (Robyn 문서에서는 주로 주간 데이터를 권장합니다.)
    * 데이터의 안정성과 일관성이 매우 중요합니다.

#### **2. 독립 변수 (Independent Variables)**

종속 변수에 영향을 미칠 것으로 예상되는 모든 요인들을 포함합니다.

##### **2.1 유료 미디어 변수 (Paid Media Variables)**

* **정의:** 기업이 비용을 지불하고 집행하는 모든 마케팅 및 광고 채널 관련 변수입니다. 모델의 핵심 분석 대상이 됩니다.
* **예시:**
    * TV 광고 지출액/노출수(GRPs)
    * 라디오 광고 지출액
    * 검색 광고(SEM) 지출액/클릭수
    * 소셜 미디어 광고(Facebook, Instagram 등) 지출액/노출수/클릭수
    * 디스플레이 광고(DA) 지출액/노출수
    * OOH(옥외광고) 지출액
* **특징:**
    * 각 채널별로 **지출액(spend)** 데이터는 필수적입니다. 경우에 따라 노출수(impressions), 클릭수(clicks) 등의 미디어 측정 지표를 함께 사용하기도 합니다.
    * Robyn은 이 변수들에 대해 Adstock(이월 효과) 및 반응 곡선(Saturation)을 모델링하여 효과를 분석합니다.
    * 변수 이름은 채널을 명확히 구분할 수 있도록 직관적으로 지정하는 것이 좋습니다. (예: `paid_search_spend`, `facebook_impressions`)

##### **2.2 오가닉 변수 (Organic Variables)**

* **정의:** 직접적인 광고비 지출 없이 발생한 마케팅 효과나 브랜드 인지도와 관련된 변수입니다. 유료 미디어 활동의 간접적인 영향을 받기도 합니다.
* **예시:**
    * 자사 웹사이트 직접 방문자 수 (Direct Website Visits)
    * 자연 검색(Organic Search)을 통한 유입량
    * 소셜 미디어 자체 채널의 게시물 노출/도달 (Owned Social Media Reach)
    * PR 기사 수 또는 긍정적 언급량
    * 앱 실행 횟수 (App Opens - 광고를 통하지 않은)
* **특징:**
    * 이러한 변수들은 브랜드의 자연스러운 관심도나 고객 충성도를 반영할 수 있습니다.
    * 경우에 따라 유료 미디어 변수처럼 Adstock을 적용하여 모델링 할 수도 있습니다.

##### **2.3 맥락 변수 (Context Variables) 또는 통제 변수 (Control Variables)**

* **정의:** 마케팅 활동은 아니지만 종속 변수에 영향을 미칠 수 있는 외부 환경 요인 또는 내부 비즈니스 요인들을 의미합니다. 이러한 변수들을 통제함으로써 마케팅 활동의 순수한 효과를 더 정확하게 추정할 수 있습니다.
* **예시:**
    * 프로모션 진행 여부 또는 할인율
    * 경쟁사의 주요 광고 활동 또는 가격 변동
    * 계절성 지수 (Seasonality Index)
    * 경제 지표 (예: 소비자 물가 지수, 실업률 등)
    * 제품 가격 변동
    * 신제품 출시 여부
    * 유통 채널 변화
* **특징:**
    * 이러한 변수들은 모델의 설명력을 높이고, 마케팅 변수의 효과를 왜곡 없이 추정하는 데 도움을 줍니다.
    * 일부 맥락 변수는 Adstock 적용 없이 바로 효과를 반영하도록 설정할 수 있습니다.

##### **2.4 Prophet 변수 (Prophet Variables - 이벤트/공휴일 등)**

* **정의:** Robyn은 Facebook(Meta)에서 개발한 시계열 예측 라이브러리인 `Prophet`의 기능을 통합하여 특정 이벤트나 공휴일의 영향을 자동으로 모델링할 수 있습니다.
* **입력 방식:**
    * 국가 코드를 지정하면 해당 국가의 주요 공휴일을 자동으로 포함시킬 수 있습니다 (예: `KR` 지정 시 한국의 추석, 설날 등).
    * 사용자가 직접 특정 이벤트 기간(예: 특별 할인 행사, 창립 기념일)과 이벤트명을 담은 데이터프레임을 만들어 입력할 수도 있습니다.
* **예시:**
    * `holidays`: `ds` (날짜), `holiday` (이벤트명) 컬럼을 가진 데이터프레임
* **특징:**
    * 반복적이거나 예측 가능한 이벤트로 인한 종속 변수의 변동을 효과적으로 제어하여 다른 변수들의 효과를 더 명확하게 파악하도록 돕습니다.
    * 별도의 변수로 만들기 어려운 다양한 종류의 단기 이벤트를 쉽게 반영할 수 있습니다.

Robyn 문서에서는 이러한 변수들을 CSV 파일 형태로 준비하여 `robyn_inputs()` 함수를 통해 모델에 전달하도록 안내하고 있습니다. 각 변수의 특성을 잘 이해하고, 비즈니스 상황에 맞는 변수들을 충실히 준비하는 것이 성공적인 MMM 프로젝트의 첫걸음입니다.

---
